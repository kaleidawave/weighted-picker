parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qkyS":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t){void 0===t&&(t=[]),this._entries=t}return t.prototype.Add=function(t){this._entries.push(t)},t.prototype.Remove=function(t){this._entries=this._entries.filter(function(e){return e.uuid!=t})},t.prototype.Contains=function(t){return-1!=this._entries.map(function(t){return t.uuid}).indexOf(t.uuid)},t}();exports.Collection=t;
},{}],"A5po":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();exports.__esModule=!0;var o=require("./definitions"),e=function(o){function e(t,e){void 0===t&&(t=[]),void 0===e&&(e=!1);var r=o.call(this,t)||this;return r.removeItemOnPick=e,0!=t.length?r._totalCount=t.map(function(t){return t.Weight}).reduce(function(t,o){return t+o}):r._totalCount=0,r}return t(e,o),e.prototype.Choose=function(){if(this._entries.length>1){for(var t=Math.random()*this._totalCount,o=0,e=this._entries;o<e.length;o++){var r=e[o];if((t-=r.Weight)<=0)return this.removeItemOnPick&&this.Remove(r.uuid),r}throw new Error("Internal Error")}throw new Error("There must be at least two elements to pick")},e.prototype.Add=function(t){o.prototype.Add.call(this,t),this._totalCount+=t.Weight},e.prototype.Remove=function(t){this._totalCount-=this._entries.find(function(o){return o.uuid==t}).Weight,o.prototype.Remove.call(this,t)},e}(o.Collection);exports.Randomizer=e;
},{"./definitions":"qkyS"}],"TGYt":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();exports.__esModule=!0;var e=require("./definitions"),o=function(e){function o(t,o){var n=e.call(this)||this;return n._table=t,n._removeCallback=o,n}return t(o,e),o.prototype.Add=function(t){e.prototype.Add.call(this,t),this.render()},o.prototype.Remove=function(t){e.prototype.Remove.call(this,t),this.render()},o.prototype.render=function(){var t=this;this._table.innerHTML=this._entries.map(function(t){return'<div class="grid-row"><div>'+t.Name+"</div><div>"+t.Weight+'</div><div><button data-item-uuid="'+t.uuid+'">Remove</button></div></div>'}).join(""),document.querySelectorAll("button[data-item-uuid]").forEach(function(e){e.addEventListener("click",function(e){t._removeCallback(e.target.getAttribute("data-item-uuid"))})})},o}(e.Collection);exports.Table=o;var n=function(){function t(t){var e=this;this._modal=t,window.addEventListener("click",function(t){t.target==e._modal&&e.hide()}),this._message=t.querySelector(".modal-content > p"),t.querySelector(".modal-content > #modal-close").addEventListener("click",function(t){e.hide()}),window.addEventListener("keydown",function(t){e._open&&"Escape"==t.key&&e.hide()})}return t.prototype.show=function(){this._modal.style.display="block",this._open=!0},t.prototype.hide=function(){this._modal.style.display="none",this._open=!1},t.prototype.render=function(t){void 0===t&&(t="None"),this._message.innerHTML=t,this.show()},t}();exports.Modal=n;
},{"./definitions":"qkyS"}],"ogM3":[function(require,module,exports) {
var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var o=new Uint8Array(16);module.exports=function(){return e(o),o}}else{var r=new Array(16);module.exports=function(){for(var e,o=0;o<16;o++)0==(3&o)&&(e=4294967296*Math.random()),r[o]=e>>>((3&o)<<3)&255;return r}}
},{}],"O4sp":[function(require,module,exports) {
for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);function t(o,t){var n=t||0,u=r;return[u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],"-",u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]],u[o[n++]]].join("")}module.exports=t;
},{}],"acME":[function(require,module,exports) {
var e,r,o=require("./lib/rng"),s=require("./lib/bytesToUuid"),i=0,n=0;function c(c,l,u){var v=l&&u||0,a=l||[],d=(c=c||{}).node||e,t=void 0!==c.clockseq?c.clockseq:r;if(null==d||null==t){var m=o();null==d&&(d=e=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==t&&(t=r=16383&(m[6]<<8|m[7]))}var q=void 0!==c.msecs?c.msecs:(new Date).getTime(),f=void 0!==c.nsecs?c.nsecs:n+1,b=q-i+(f-n)/1e4;if(b<0&&void 0===c.clockseq&&(t=t+1&16383),(b<0||q>i)&&void 0===c.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=q,n=f,r=t;var k=(1e4*(268435455&(q+=122192928e5))+f)%4294967296;a[v++]=k>>>24&255,a[v++]=k>>>16&255,a[v++]=k>>>8&255,a[v++]=255&k;var w=q/4294967296*1e4&268435455;a[v++]=w>>>8&255,a[v++]=255&w,a[v++]=w>>>24&15|16,a[v++]=w>>>16&255,a[v++]=t>>>8|128,a[v++]=255&t;for(var g=0;g<6;++g)a[v+g]=d[g];return l||s(a)}module.exports=c;
},{"./lib/rng":"ogM3","./lib/bytesToUuid":"O4sp"}],"37UO":[function(require,module,exports) {
var r=require("./lib/rng"),n=require("./lib/bytesToUuid");function e(e,i,u){var a=i&&u||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||r)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,i)for(var o=0;o<16;++o)i[a+o]=l[o];return i||n(l)}module.exports=e;
},{"./lib/rng":"ogM3","./lib/bytesToUuid":"O4sp"}],"gV9a":[function(require,module,exports) {
var e=require("./v1"),r=require("./v4"),v=r;v.v1=e,v.v4=r,module.exports=v;
},{"./v1":"acME","./v4":"37UO"}],"WANV":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};exports.__esModule=!0;var t=require("./pool"),r=require("./components"),n=e(require("uuid")),i=new t.Randomizer,o=new r.Table(document.getElementById("entries"),h),u=new r.Modal(document.getElementById("modal")),d=[],a=document.getElementById("name-input"),m=document.getElementById("weight-input"),l=function(){return function(e,t){if(void 0===t&&(t=1),""==e)throw new Error("Item must have a name");if(e.length>20)throw new Error("Name too long");if(isNaN(t))throw new Error("Weight must be a number");if(t<=0)throw new Error("Weight must be greater than 1 ");if(!Number.isInteger(t))throw new Error("Weight must be integer");this.Name=e,this.Weight=t,this.uuid=n.v4()}}();function c(){try{var e=i.Choose().Name;u.render("Chose "+e)}catch(t){u.render(t)}}function s(e){e.preventDefault();try{var t=new l(a.value,Number(m.value));i.Add(t),o.Add(t),d.push(t),a.value="",m.value="1"}catch(r){u.render(r)}}function h(e){d.find(function(t){return t.uuid==e});i.Remove(e),o.Remove(e),d.filter(function(t){return t.uuid==e})}exports.Name=l,exports.removeItem=h,document.getElementById("add-item").addEventListener("click",s),document.getElementById("roll").addEventListener("click",c);
},{"./pool":"A5po","./components":"TGYt","uuid":"gV9a"}]},{},["WANV"], null)
//# sourceMappingURL=/script.38c36e5e.js.map